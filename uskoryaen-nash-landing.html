<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Изучаем аудиторию сайта с помощью рекламного кабинета ВК и извлекаем полезности">
    <meta name="author" content="">
    <meta property="og:image" content="img/post3.jpg" />
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">



    <title>Увеличиваем скорость загрузки лендинга</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"       crossorigin="anonymous">
    <!-- Theme CSS -->
    <link href="css/clean-blog.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


</head>

<body>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/post3.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Увеличиваем скорость загрузки лендинга</h1>
                        <span class="meta">@keros1n</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <p>В наше быстрое время, большинство пользователей ожидает загрузку сайта в течение 3 секунд. Чем дольше будет загружаться сайт, тем больше будет отказов, тем меньше наша прибыль. Итак, рассмотрим, как без сложных телодвижений и бесплатно можно поднять свой ROI на ровном месте. Для анализа скорости загрузки я использую сервисы <a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank">Google PageSpeed</a> и <a href="http://gtmetrix.com" target="_blank">GTmetrics</a>. В последнем можно посмотреть время загрузки каждого модуля во вкладке waterfall.</p>
                    <p>Итак, вот небольшой чеклист того, как я увеличиваю скорость загрузки лендинга. </p>
                    
                    <h2>Проверка и удаление html тегов</h2>
                    <p>При скачивании шаблона лендинга, зачастую, нам не нужны все элементы, которые находятся в этом шаблоне. Удаляйте все теги, которые не используете.
После каждого удаления проверяйте, не поехал ли у вас сайт, и не захватили ли вы что-нибудь лишнее.</p>

<h2>Удаление ненужных стилей</h2>
<p>Устанавливаем <a href="https://addons.mozilla.org/en-US/firefox/addon/dust-me-selectors/" target="_blank">расширение</a> для firefox. Открываем нашу страницу через этот браузер. Запускаем сканирование и ручками удаляем ненужные стили. Да, это займет какое-то время, но таким способом можно уменьшить размер css файла на 70-80%. Если кто-то знает сервисы по автоматическому удалению ненужных стилей, то, пожалуйста, поделитесь. Выглядит это примерно так:</p> 
<p><img src="img/firefox.png" width="100%"></p>

<h2>Минимизируем получившийся css</h2> 
<p>Я использую сервис <a href="http://csscompressor.com/" target="_blank">csscompressor</a>. В параметре compression level выбираю high, чтобы наш код был читаем. Таким образом можно сократить размер еще на треть. </p>

<h2>Переносим css прямо в html</h2>
<p>Чем больше запросов к серверу, тем больше грузится страница. Тем более я говорю в основном о мобильных лендингах и строк стилей там не так много и это не сильно повлияет на читаемость всего кода. В любом случае, эту операцию можно проделать в самом конце. </p>
<h2>Работа с javascript</h2>
                    <p>Удалите все неиспользуемые скрипты. Если вы не знаете, что они делают, удаляйте по одному и смотрите на изменения. Почти всегда я подключаю скрипты в самом конце файла, чтобы они не блокировали загрузку контента. Если говорить о самописных или небольших скриптах, то я так же включаю их в тело html файла, а сторонние библиотеки, такие как jquery подключаю через CDN, это важно. Так же можно использовать асинхронную загрузки скриптов. Подробнее об этом <a href="http://ruhighload.com/post/%D0%90%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F+%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0+javascript" target="_blank">здесь</a> </p> 
<h2>Работа с изображениями</h2>
                    <p>Сжимаем изображения через <a href="https://tinypng.com/" target="_blank">tinypng</a>.</p>
                    <p>Если у нас на странице есть большое изображение или вы хотите использовать хорошее и качественное изображение, но боитесь, что это сильно повлияет на скорость загрузки, то можно воспользоваться хаком, который применяют, например, в  <a href="https://jmperezperez.com/medium-image-progressive-loading-placeholder/" target="_blank">Medium</a> или <a href="https://code.facebook.com/posts/991252547593574/the-technology-behind-preview-photos/" target="_blank">Facebook</a>. Хак заключается в том, что мы делаем маленькую копию нашего изображения (фейсбук уменьшает изображение до 200 байт). Во время загрузки страницы мы подгружаем не большое изображение, а его маленькую копию, размытую по Гауссу. А большое изображение подгружаем в самом конце. <a href="http://codepen.io/jmperez/pen/yYjPER" target="_blank">Пример и рабочий код</a>. Таким образом пользователь будет получать изображения до его полной загрузки. Статья про то, как это работает на <a href="https://code.facebook.com/posts/991252547593574/the-technology-behind-preview-photos/" target="_blank">фейсбуке</a>.</p> 
                    <p>Кодируем изображения в base64 с помощью <a href="http://www.dailycoding.com/Utils/Converter/ImageToBase64.aspx" target="_blank">этого сервиса</a>.  Это опять-таки нужно для уменьшения количества запросов к серверу. Делаем это в самом конце, потому что серьезно снизится уровень читаемости кода, особенно если вы решите перекодировать гифку.  </p>                  
<h2>Работа со шрифтами</h2>
<p>Я очень редко использую сторонние шрифты, но если их необходимо использовать, то подключать нужно так же через CDN, например, от Google.</p> 
<h2>Используем GZIP</h2>
<p>GZIP нужно для сжатия без потерь текстовых файлов на сайтах и последующего их восстановления. Этот метод сжатия может сократить весь лендинга на 70-80%. Чтобы установить GZIP для Apache нужно добавить в файл .htaccess следующие строки: </p>   
<p>
<figure class="highlight">
<pre>
<code class="language-html" data-lang="html">AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript</code>
</pre>
</figure>    
</p>              
<p>Проверить, получилось ли сжатие, можно <a href="http://www.whatsmyip.org/http-compression-test/" target="_blank">здесь</a> </p>
<h2>Заключение</h2>
<p>Проведя эти нехитрые манипуляции, можно повысить скорость загрузки ваших лендингов, снизить показатель отказов и увеличить наш любимый ROI.</p>
                    <h2>P.S.</h2> <p>Если вам понравилась статья, то поделитесь ей в социальной сети или скиньте в предложку какому-нибудь паблику или своему другу. Любые вопросы, предложения, пожелания пишите в телеграм @keros1n. Если вы испытваете проблемы при работе с кодом, так же пишите мне в телеграм за помощью. </p>
                    <h2>P.P.S.</h2><p>Да, я пренебрегаю этими правилами в этом блоге.</p>

                </div>
            </div>
        </div>
    </article>

    <hr>

  <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                   <p class="copyright text-muted"><a href="index.html" style="text-decoration: none">Вернуться на главную</a></p>
                    <p class="copyright text-muted">Любые вопросы можно задать в телеграме @keros1n (да, это единичка)</p>
                    <p class="copyright text-muted">Распространение материалов сайта приветствуется, но с указанием источника</p>
                    <p class="copyright text-muted">&copy; 2016</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-88932991-1', 'auto');
  ga('send', 'pageview');

</script>

</body>

</html>
